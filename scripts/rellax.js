!function (e, t) { "function" == typeof define && define.amd ? define([], t) : "object" == typeof module && module.exports ? module.exports = t() : e.Rellax = t() }("undefined" != typeof window ? window : global, function () { var e = function (t, o) { var r = Object.create(e.prototype), n = 0, i = 0, a = 0, l = 0, s = [], p = !0, c = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame || function (e) { return setTimeout(e, 1e3 / 60) }, d = null, m = !1; try { var u = Object.defineProperty({}, "passive", { get: function () { m = !0 } }); window.addEventListener("testPassive", null, u), window.removeEventListener("testPassive", null, u) } catch (f) { } var x = window.cancelAnimationFrame || window.mozCancelAnimationFrame || clearTimeout, v = window.transformProp || function () { var e = document.createElement("div"); if (null === e.style.transform) { var t, o = ["Webkit", "Moz", "ms"]; for (t in o) if (void 0 !== e.style[o[t] + "Transform"]) return o[t] + "Transform" } return "transform" }(); if (r.options = { speed: -2, verticalSpeed: null, horizontalSpeed: null, breakpoints: [576, 768, 1201], center: !1, wrapper: null, relativeToWrapper: !1, round: !0, vertical: !0, horizontal: !1, verticalScrollAxis: "y", horizontalScrollAxis: "x", callback: function () { } }, o && Object.keys(o).forEach(function (e) { r.options[e] = o[e] }), o && o.breakpoints && function e() { if (3 === r.options.breakpoints.length && Array.isArray(r.options.breakpoints)) { var t, o = !0, n = !0; if (r.options.breakpoints.forEach(function (e) { "number" != typeof e && (n = !1), null !== t && e < t && (o = !1), t = e }), o && n) return } r.options.breakpoints = [576, 768, 1201], console.warn("Rellax: You must pass an array of 3 numbers in ascending order to the breakpoints option. Defaults reverted") }(), t || (t = ".rellax"), 0 < (u = "string" == typeof t ? document.querySelectorAll(t) : [t]).length) { if (r.elems = u, r.options.wrapper && !r.options.wrapper.nodeType) { if (u = document.querySelector(r.options.wrapper)) r.options.wrapper = u; else { console.warn("Rellax: The wrapper you're trying to use doesn't exist."); return } } var g, h = function () { for (var e = 0; e < s.length; e++)r.elems[e].style.cssText = s[e].style; for (s = [], i = window.innerHeight, g = (l = window.innerWidth) < (e = r.options.breakpoints)[0] ? "xs" : l >= e[0] && l < e[1] ? "sm" : l >= e[1] && l < e[2] ? "md" : "lg", b(), e = 0; e < r.elems.length; e++) { var t = void 0, o = r.elems[e], n = o.getAttribute("data-rellax-percentage"), a = o.getAttribute("data-rellax-speed"), c = o.getAttribute("data-rellax-xs-speed"), d = o.getAttribute("data-rellax-mobile-speed"), m = o.getAttribute("data-rellax-tablet-speed"), u = o.getAttribute("data-rellax-desktop-speed"), f = o.getAttribute("data-rellax-vertical-speed"), x = o.getAttribute("data-rellax-horizontal-speed"), v = o.getAttribute("data-rellax-vertical-scroll-axis"), y = o.getAttribute("data-rellax-horizontal-scroll-axis"), _ = o.getAttribute("data-rellax-zindex") || 0, z = o.getAttribute("data-rellax-min"), E = o.getAttribute("data-rellax-max"), T = o.getAttribute("data-rellax-min-x"), L = o.getAttribute("data-rellax-max-x"), S = o.getAttribute("data-rellax-min-y"), Y = o.getAttribute("data-rellax-max-y"), k = !0; c || d || m || u ? t = { xs: c, sm: d, md: m, lg: u } : k = !1, c = r.options.wrapper ? r.options.wrapper.scrollTop : window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop, r.options.relativeToWrapper && (c = (window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop) - r.options.wrapper.offsetTop); var X = r.options.vertical && (n || r.options.center) ? c : 0, O = r.options.horizontal && (n || r.options.center) ? r.options.wrapper ? r.options.wrapper.scrollLeft : window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft : 0; c = X + o.getBoundingClientRect().top, d = o.clientHeight || o.offsetHeight || o.scrollHeight, m = O + o.getBoundingClientRect().left, u = o.clientWidth || o.offsetWidth || o.scrollWidth, X = n || (X - c + i) / (d + i), n = n || (O - m + l) / (u + l), r.options.center && (X = n = .5), t = k && null !== t[g] ? Number(t[g]) : a || r.options.speed, f = f || r.options.verticalSpeed, x = x || r.options.horizontalSpeed, v = v || r.options.verticalScrollAxis, y = y || r.options.horizontalScrollAxis, a = $(n, X, t, f, x), o = o.style.cssText, k = "", (n = /transform\s*:/i.exec(o)) && (k = (n = (k = o.slice(n.index)).indexOf(";")) ? " " + k.slice(11, n).replace(/\s/g, "") : " " + k.slice(11).replace(/\s/g, "")), s.push({ baseX: a.x, baseY: a.y, top: c, left: m, height: d, width: u, speed: t, verticalSpeed: f, horizontalSpeed: x, verticalScrollAxis: v, horizontalScrollAxis: y, style: o, transform: k, zindex: _, min: z, max: E, minX: T, maxX: L, minY: S, maxY: Y }) } w(), p && (window.addEventListener("resize", h), p = !1, A()) }, b = function () { var e = n, t = a; return n = r.options.wrapper ? r.options.wrapper.scrollTop : (document.documentElement || document.body.parentNode || document.body).scrollTop || window.pageYOffset, a = r.options.wrapper ? r.options.wrapper.scrollLeft : (document.documentElement || document.body.parentNode || document.body).scrollLeft || window.pageXOffset, r.options.relativeToWrapper && (n = ((document.documentElement || document.body.parentNode || document.body).scrollTop || window.pageYOffset) - r.options.wrapper.offsetTop), e != n && !!r.options.vertical || t != a && !!r.options.horizontal }, $ = function (e, t, o, n, i) { var a = {}; return e = 100 * (i || o) * (1 - e), t = 100 * (n || o) * (1 - t), a.x = r.options.round ? Math.round(e) : Math.round(100 * e) / 100, a.y = r.options.round ? Math.round(t) : Math.round(100 * t) / 100, a }, y = function () { window.removeEventListener("resize", y), window.removeEventListener("orientationchange", y), (r.options.wrapper ? r.options.wrapper : window).removeEventListener("scroll", y), (r.options.wrapper ? r.options.wrapper : document).removeEventListener("touchmove", y), d = c(A) }, A = function () { b() && !1 === p ? (w(), d = c(A)) : (d = null, window.addEventListener("resize", y), window.addEventListener("orientationchange", y), (r.options.wrapper ? r.options.wrapper : window).addEventListener("scroll", y, !!m && { passive: !0 }), (r.options.wrapper ? r.options.wrapper : document).addEventListener("touchmove", y, !!m && { passive: !0 })) }, w = function () { for (var e, t = 0; t < r.elems.length; t++) { var o = s[t].verticalScrollAxis.toLowerCase(), p = s[t].horizontalScrollAxis.toLowerCase(); e = -1 != o.indexOf("x") ? n : 0, o = -1 != o.indexOf("y") ? n : 0; var c = -1 != p.indexOf("x") ? a : 0; p = -1 != p.indexOf("y") ? a : 0, p = (e = $((e + c - s[t].left + l) / (s[t].width + l), (o + p - s[t].top + i) / (s[t].height + i), s[t].speed, s[t].verticalSpeed, s[t].horizontalSpeed)).y - s[t].baseY, o = e.x - s[t].baseX, null !== s[t].min && (r.options.vertical && !r.options.horizontal && (p = p <= s[t].min ? s[t].min : p), r.options.horizontal && !r.options.vertical && (o = o <= s[t].min ? s[t].min : o)), null != s[t].minY && (p = p <= s[t].minY ? s[t].minY : p), null != s[t].minX && (o = o <= s[t].minX ? s[t].minX : o), null !== s[t].max && (r.options.vertical && !r.options.horizontal && (p = p >= s[t].max ? s[t].max : p), r.options.horizontal && !r.options.vertical && (o = o >= s[t].max ? s[t].max : o)), null != s[t].maxY && (p = p >= s[t].maxY ? s[t].maxY : p), null != s[t].maxX && (o = o >= s[t].maxX ? s[t].maxX : o), r.elems[t].style[v] = "translate3d(" + (r.options.horizontal ? o : "0") + "px," + (r.options.vertical ? p : "0") + "px," + s[t].zindex + "px) " + s[t].transform } r.options.callback(e) }; return r.destroy = function () { for (var e = 0; e < r.elems.length; e++)r.elems[e].style.cssText = s[e].style; p || (window.removeEventListener("resize", h), p = !0), x(d), d = null }, h(), r.refresh = h, r } console.warn("Rellax: The elements you're trying to select don't exist.") }; return e });